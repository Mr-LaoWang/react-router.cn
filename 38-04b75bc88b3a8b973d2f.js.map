{"version":3,"sources":["webpack:///38-04b75bc88b3a8b973d2f.js","webpack:///./modules/examples/Auth.js"],"names":["webpackJsonp","529","module","exports","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_objectWithoutProperties","obj","keys","target","i","indexOf","hasOwnProperty","__esModule","_extends","assign","arguments","length","source","key","_react","_react2","default","_reactRouterDom","AuthExample","createElement","BrowserRouter","AuthButton","Link","to","Route","path","component","Public","Login","PrivateRoute","Protected","fakeAuth","isAuthenticated","authenticate","cb","this","setTimeout","signout","withRouter","_ref","history","onClick","push","_ref2","Component","rest","render","props","Redirect","pathname","state","from","location","_React$Component","_temp","_this","_ret","_len","args","Array","_key","apply","concat","redirectToReferrer","login","setState","_ref3"],"mappings":"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","file":"38-04b75bc88b3a8b973d2f.js","sourcesContent":["webpackJsonp([38],{\n\n/***/ 529:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(16);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n////////////////////////////////////////////////////////////\n// 1. Click the public page\n// 2. Click the protected page\n// 3. Log in\n// 4. Click the back button, note the URL each time\n\nvar AuthExample = function AuthExample() {\n  return _react2.default.createElement(\n    _reactRouterDom.BrowserRouter,\n    null,\n    _react2.default.createElement(\n      \"div\",\n      null,\n      _react2.default.createElement(AuthButton, null),\n      _react2.default.createElement(\n        \"ul\",\n        null,\n        _react2.default.createElement(\n          \"li\",\n          null,\n          _react2.default.createElement(\n            _reactRouterDom.Link,\n            { to: \"/public\" },\n            \"Public Page\"\n          )\n        ),\n        _react2.default.createElement(\n          \"li\",\n          null,\n          _react2.default.createElement(\n            _reactRouterDom.Link,\n            { to: \"/protected\" },\n            \"Protected Page\"\n          )\n        )\n      ),\n      _react2.default.createElement(_reactRouterDom.Route, { path: \"/public\", component: Public }),\n      _react2.default.createElement(_reactRouterDom.Route, { path: \"/login\", component: Login }),\n      _react2.default.createElement(PrivateRoute, { path: \"/protected\", component: Protected })\n    )\n  );\n};\n\nvar fakeAuth = {\n  isAuthenticated: false,\n  authenticate: function authenticate(cb) {\n    this.isAuthenticated = true;\n    setTimeout(cb, 100); // fake async\n  },\n  signout: function signout(cb) {\n    this.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n};\n\nvar AuthButton = (0, _reactRouterDom.withRouter)(function (_ref) {\n  var history = _ref.history;\n  return fakeAuth.isAuthenticated ? _react2.default.createElement(\n    \"p\",\n    null,\n    \"Welcome!\",\n    \" \",\n    _react2.default.createElement(\n      \"button\",\n      {\n        onClick: function onClick() {\n          fakeAuth.signout(function () {\n            return history.push(\"/\");\n          });\n        }\n      },\n      \"Sign out\"\n    )\n  ) : _react2.default.createElement(\n    \"p\",\n    null,\n    \"You are not logged in.\"\n  );\n});\n\nvar PrivateRoute = function PrivateRoute(_ref2) {\n  var Component = _ref2.component,\n      rest = _objectWithoutProperties(_ref2, [\"component\"]);\n\n  return _react2.default.createElement(_reactRouterDom.Route, _extends({}, rest, {\n    render: function render(props) {\n      return fakeAuth.isAuthenticated ? _react2.default.createElement(Component, props) : _react2.default.createElement(_reactRouterDom.Redirect, {\n        to: {\n          pathname: \"/login\",\n          state: { from: props.location }\n        }\n      });\n    }\n  }));\n};\n\nvar Public = function Public() {\n  return _react2.default.createElement(\n    \"h3\",\n    null,\n    \"Public\"\n  );\n};\nvar Protected = function Protected() {\n  return _react2.default.createElement(\n    \"h3\",\n    null,\n    \"Protected\"\n  );\n};\n\nvar Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      redirectToReferrer: false\n    }, _this.login = function () {\n      fakeAuth.authenticate(function () {\n        _this.setState({ redirectToReferrer: true });\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Login.prototype.render = function render() {\n    var _ref3 = this.props.location.state || { from: { pathname: \"/\" } },\n        from = _ref3.from;\n\n    var redirectToReferrer = this.state.redirectToReferrer;\n\n\n    if (redirectToReferrer) {\n      return _react2.default.createElement(_reactRouterDom.Redirect, { to: from });\n    }\n\n    return _react2.default.createElement(\n      \"div\",\n      null,\n      _react2.default.createElement(\n        \"p\",\n        null,\n        \"You must log in to view the page at \",\n        from.pathname\n      ),\n      _react2.default.createElement(\n        \"button\",\n        { onClick: this.login },\n        \"Log in\"\n      )\n    );\n  };\n\n  return Login;\n}(_react2.default.Component);\n\nexports.default = AuthExample;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 38-04b75bc88b3a8b973d2f.js","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  Redirect,\n  withRouter\n} from \"react-router-dom\";\n\n////////////////////////////////////////////////////////////\n// 1. Click the public page\n// 2. Click the protected page\n// 3. Log in\n// 4. Click the back button, note the URL each time\n\nconst AuthExample = () => (\n  <Router>\n    <div>\n      <AuthButton />\n      <ul>\n        <li>\n          <Link to=\"/public\">Public Page</Link>\n        </li>\n        <li>\n          <Link to=\"/protected\">Protected Page</Link>\n        </li>\n      </ul>\n      <Route path=\"/public\" component={Public} />\n      <Route path=\"/login\" component={Login} />\n      <PrivateRoute path=\"/protected\" component={Protected} />\n    </div>\n  </Router>\n);\n\nconst fakeAuth = {\n  isAuthenticated: false,\n  authenticate(cb) {\n    this.isAuthenticated = true;\n    setTimeout(cb, 100); // fake async\n  },\n  signout(cb) {\n    this.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n};\n\nconst AuthButton = withRouter(\n  ({ history }) =>\n    fakeAuth.isAuthenticated ? (\n      <p>\n        Welcome!{\" \"}\n        <button\n          onClick={() => {\n            fakeAuth.signout(() => history.push(\"/\"));\n          }}\n        >\n          Sign out\n        </button>\n      </p>\n    ) : (\n      <p>You are not logged in.</p>\n    )\n);\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      fakeAuth.isAuthenticated ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: \"/login\",\n            state: { from: props.location }\n          }}\n        />\n      )\n    }\n  />\n);\n\nconst Public = () => <h3>Public</h3>;\nconst Protected = () => <h3>Protected</h3>;\n\nclass Login extends React.Component {\n  state = {\n    redirectToReferrer: false\n  };\n\n  login = () => {\n    fakeAuth.authenticate(() => {\n      this.setState({ redirectToReferrer: true });\n    });\n  };\n\n  render() {\n    const { from } = this.props.location.state || { from: { pathname: \"/\" } };\n    const { redirectToReferrer } = this.state;\n\n    if (redirectToReferrer) {\n      return <Redirect to={from} />;\n    }\n\n    return (\n      <div>\n        <p>You must log in to view the page at {from.pathname}</p>\n        <button onClick={this.login}>Log in</button>\n      </div>\n    );\n  }\n}\n\nexport default AuthExample;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/examples/Auth.js?bundle"],"sourceRoot":""}